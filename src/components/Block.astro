---
import BadgesBlock from './blocks/BadgesBlock.astro'
import ContactBlock from './blocks/ContactBlock.astro'
import FeaturesBlock from './blocks/FeaturesBlock.astro'
import Show from './Show.astro'

interface Props {
  block: CMS.Block
}

const { block } = Astro.props as Props

function isBadgesBlock(block: CMS.Block): block is CMS.BadgesBlock {
  return block.template === 'badgesblock'
}

function isContactBlock(block: CMS.Block): block is CMS.ContactBlock {
  return block.template === 'contactblock'
}

function isFeaturesBlock(block: CMS.Block): block is CMS.FeaturesBlock {
  return block.template === 'featuresblock'
}
---

<Show when={isBadgesBlock(block)}>
  <BadgesBlock {...block} />
</Show>

<Show when={isContactBlock(block)}>
  <ContactBlock {...block} />
</Show>

<Show when={isFeaturesBlock(block)}>
  <FeaturesBlock {...block} />
</Show>